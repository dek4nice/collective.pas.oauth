<html xmlns="http://www.w3.org/1999/xhtml" xml:lang="en"
      xmlns:tal="http://xml.zope.org/namespaces/tal"
      xmlns:metal="http://xml.zope.org/namespaces/metal"
      xmlns:i18n="http://xml.zope.org/namespaces/i18n"
    lang="en"
    i18n:domain="collective.pas.oauth">

<body>

<div metal:define-macro="field"
    tal:define="
        item_id     python: group_id + '_' + field_id;
        field       python: fields_group[field_id];
        field_title python: field.title;
        field_desc  python: field.description;
        field_ro    python: field.readonly;
        isbool      python: field._type==bool;
        reg_value   python: getattr(registry , field_id);
        field_value python: reg_value is None and field.default or reg_value;
        req_value   python: request.get(item_id , field_value);
        error       python:errors.get(item_id , None);
        checked     python: 'checked' if req_value else None;
    "
    tal:attributes="class python:'field error' if error else 'field';">

    <input tal:condition="isbool" type="hidden" tal:attributes="name string:${item_id}:boolean:default;" />
    <input tal:condition="isbool" type="checkbox" value="1" tal:attributes="checked checked; name string:${item_id}:boolean; id item_id;" />

    <label tal:attributes="for item_id" tal:content="field_title">Item Title</label>

    <span class="fieldRequired">(Required)</span>

    <div class="formHelp" i18n:translate="" tal:content="field_desc">Item Description</div>

    <div tal:condition="error" tal:content="error"></div>
    <input tal:condition="not:isbool" tal:attributes="value req_value; name item_id; id item_id;" size="20" />

</div>

</body>
</html>
